(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{44:function(s,t,e){"use strict";e.d(t,"a",(function(){return a}));var r=e(0);class a{constructor(s,t){this._mesh=s,this._shader=t}draw(s){this._shader.bind(),this._shader.style(s),r.a.draw(this._mesh)}get mesh(){return this._mesh}get shader(){return this._shader}}},48:function(s,t,e){"use strict";e.d(t,"a",(function(){return h}));var r=e(13),a=e(15),i=e(42),n=e(44);class h extends n.a{constructor(s,t){const e=new a.a(r.g,r.f);super(i.a.skybox(s),e),this.skyMap=t}draw(s){s&&(this.skyMap=s),super.draw({uGamma:2.2,uExposure:5,tex:this.skyMap})}}},85:function(s,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return c}));var r=e(43),a=e(48),i=e(21),n=e(0);function h(s,t){let e=s[0][t];return s.forEach(s=>{s[t]>e&&(e=s[t])}),e}class c extends r.a{constructor(){super()}init(){n.a.srcBlend()}attrib(){this.orbital.radius=15,this.orbital.offset=[0,2,0],this.orbital.target=[0,2,0]}prepare(){this.env="studio9",this.textureIrr=getAssets[this.env+"_irradiance"],this.textureRad=getAssets[this.env+"_radiance"],this.textureBrdf=getAssets.brdfLUT;this.skybox=new a.a(40,this.textureRad);i.a.load("assets/gltf/one_ring/scene.gltf").then(s=>{this.gltf=s;const{meshes:t}=s.output;this.scenes=s.output.scenes,t.forEach(s=>{s.material.uniforms.uBRDFMap=this.textureBrdf,s.material.uniforms.uIrradianceMap=this.textureIrr,s.material.uniforms.uRadianceMap=this.textureRad}),this.gltfPrg=t[0].material.shader;const e=40/h(t,"maxLength")*.2;console.log("maxLength:",h(t,"maxLength"),t,"scale",e),this.scenes.forEach(s=>{console.log(s.scaleX,s.children[0].scaleX),1===s.scaleX&&1===s.children[0].scaleX&&(s.scale=e)})}).catch(s=>{console.log("Error loading gltf:",s)})}uniform(){}render(){n.a.clear(),this.skybox.draw(),this.scenes&&(this.gltfPrg.use(),n.a.draw(this.scenes))}}}}]);