(window.webpackJsonp=window.webpackJsonp||[]).push([[1,22,28],{11:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return h});var r=function(t){switch(t){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return 0}},s=function(t){t.drawPoints=function(t,e){this.draw(0,t,e)},t.drawLines=function(t,e){this.draw(1,t,e)},t.drawLineLoop=function(t,e){this.draw(2,t,e)},t.drawLineStrip=function(t,e){this.draw(3,t,e)},t.drawTriangles=function(t,e){this.draw(4,t,e)},t.drawTriangleStrip=function(t,e){this.draw(5,t,e)},t.drawTriangleFan=function(t,e){this.draw(6,t,e)}},a=34962;function n(t,e,i){this.gl=t,this.usage=i||t.STATIC_DRAW,this.buffer=t.createBuffer(),this.attribs=[],this.stride=0,this.byteLength=0,this.length=0,e&&this.data(e)}n.prototype={bind:function(){this.gl.bindBuffer(a,this.buffer)},attrib:function(t,e,i,s){return this.attribs.push({name:t,type:0|i,size:0|e,normalize:!!s,offset:this.stride}),this.stride+=r(i)*e,this._computeLength(),this},data:function(t){var e=this.gl;e.bindBuffer(a,this.buffer),e.bufferData(a,t,this.usage),e.bindBuffer(a,null),this.byteLength=void 0===t.byteLength?t:t.byteLength,this._computeLength()},subData:function(t,e){var i=this.gl;i.bindBuffer(a,this.buffer),i.bufferSubData(a,e,t),i.bindBuffer(a,null)},attribPointer:function(t,e){var i=this.gl;if(i.bindBuffer(a,this.buffer),e&&e.length)for(let s=0;s<e.length;s++)for(var r=0;r<this.attribs.length;r++){let a=this.attribs[r];if(e[s]===a.name)if(void 0!==t[a.name]){let e=t[a.name]();i.enableVertexAttribArray(e),i.vertexAttribPointer(e,a.size,a.type,a.normalize,this.stride,a.offset)}else console.warn(`glBuffer can't get Attribute "${a.name}" Location.`)}else for(var s=0;s<this.attribs.length;s++){var n=this.attribs[s];if(void 0!==t[n.name]){var h=t[n.name]();i.enableVertexAttribArray(h),i.vertexAttribPointer(h,n.size,n.type,n.normalize,this.stride,n.offset)}else console.warn(`glBuffer can't get Attribute "${n.name}" Location.`)}},draw:function(t,e,i){e=void 0===e?this.length:e,this.gl.drawArrays(t,i,0|e)},dispose:function(){this.gl&&this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},_computeLength:function(){this.stride>0&&(this.length=this.byteLength/this.stride)}},s(n.prototype);function h(t,e,i,r){this.gl=t,this.buffer=t.createBuffer(),this.usage=r||t.STATIC_DRAW,this.type=0,this.typeSize=0,this.size=0,this.setType(e||t.UNSIGNED_SHORT),i&&this.data(i)}h.prototype={bind:function(){this.gl.bindBuffer(34963,this.buffer)},setType:function(t){this.type=t,this.typeSize=r(t)},data:function(t){var e=this.gl;e.bindBuffer(34963,this.buffer),e.bufferData(34963,t,this.usage),e.bindBuffer(34963,null),this.size=void 0===t.byteLength?t:t.byteLength},subData:function(t,e){var i=this.gl;i.bindBuffer(34963,this.buffer),i.bufferSubData(34963,e,t),i.bindBuffer(34963,null)},dispose:function(){this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},draw:function(t,e,i){e=void 0===e?this.size/this.typeSize:e,this.gl.drawElements(t,e,this.type,0|i)}},s(h.prototype)},142:function(t,e){t.exports="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 texCoord;\nattribute vec3 normal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(position, 1.0);\n    vTextureCoord = texCoord;\n    vNormal = normal;\n}"},143:function(t,e){t.exports="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}"},15:function(t,e){function i(t){if(this.gl=t,void 0!==t.bindVertexArray)this._impl=new r(this);else{var e=t.getExtension("OES_vertex_array_object");e?(!function(t,e){t.bindVertexArray=function(){return e.bindVertexArrayOES.apply(e,arguments)},t.createVertexArray=function(){return e.createVertexArrayOES.apply(e,arguments)},t.deleteVertexArray=function(){return e.deleteVertexArrayOES.apply(e,arguments)},t.isVertexArray=function(){return e.isVertexArrayOES.apply(e,arguments)}}(t,e),this._impl=new r(this)):this._impl=new s(this)}}function r(t){this._vao=t,this._handle=null}function s(t){this._vao=t}i.prototype={dispose:function(){this._impl.dispose(),this._impl=null},setup:function(t,e,i){t.ready||t._grabParameters(),this._impl.setup(t,e,i)},bind:function(){this._impl.bind()},unbind:function(){this._impl.unbind()}},r.prototype={dispose:function(){this.release(),this._vao=null},setup:function(t,e,i){this.release();var r=this._vao.gl;this._handle=r.createVertexArray(),r.bindVertexArray(this._handle);for(var s=0;s<e.length;s++)e[s].attribPointer(t);void 0!==i&&i.bind(),r.bindVertexArray(null)},bind:function(){this._vao.gl.bindVertexArray(this._handle)},unbind:function(){this._vao.gl.bindVertexArray(null)},release:function(){this._handle&&(this._vao.gl.deleteVertexArray(this._handle),this._handle=null)}},s.prototype={dispose:function(){this._vao=null,this.prg=null,this.buffers=null,this.indices=null},setup:function(t,e,i){this.prg=t,this.buffers=e,this.indices=i},bind:function(){for(var t=0;t<this.buffers.length;t++)this.buffers[t].attribPointer(this.prg);void 0!==this.indices&&this.indices.bind()},unbind:function(){}},t.exports=i},28:function(t,e,i){"use strict";var r=i(0),s=i(14),a=i(12);i(144);const n=(t,e)=>{if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},h=t=>{const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=`${t+1}: ${e[t]}`;return e.join("\n")},o=t=>t.slice?t.slice(0):new Float32Array(t),u=i(142),c=i(143),f={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"};class l{constructor(t=u,e=c,i){this.parameters=[],this._uniformTextures=[],this._varyings=i,t||(t=u),e||(e=u);const r=this._createShaderProgram(t,!0),s=this._createShaderProgram(e,!1);this._attachShaderProgram(r,s)}use(){this.bind()}bind(){r.c.useProgram(this.shaderProgram),r.a.useShader(this)}uniform(t,e,i){if("object"==typeof t)return void this.uniformObject(t);const s=f[e]||e;let a,h=!1,u=-1;for(let e=0;e<this.parameters.length;e++)if((a=this.parameters[e]).name===t){h=!0,u=e;break}let c=!1;if(h?(this.shaderProgram[t]=a.uniformLoc,c=a.isNumber):(c="uniform1i"===s||"uniform1f"===s,this.shaderProgram[t]=r.c.getUniformLocation(this.shaderProgram,t),c?this.parameters.push({name:t,type:s,value:i,uniformLoc:this.shaderProgram[t],isNumber:c}):this.parameters.push({name:t,type:s,value:o(i),uniformLoc:this.shaderProgram[t],isNumber:c}),u=this.parameters.length-1),this.parameters[u].uniformLoc)if(-1===s.indexOf("Matrix"))if(c){(this.parameters[u].value!==i||!h)&&(r.c[s](this.shaderProgram[t],i),this.parameters[u].value=i)}else n(this.parameters[u].value,i)&&h||(r.c[s](this.shaderProgram[t],i),this.parameters[u].value=o(i));else n(this.parameters[u].value,i)&&h||(r.c[s](this.shaderProgram[t],!1,i),this.parameters[u].value=o(i))}style(t){this.uniformObject(t)}uniformObject(t){for(const e in t)if(t[e]instanceof s.a||t[e]instanceof a.a){const i=t[e];let r=-1;this._uniformTextures.forEach((t,s)=>{t.name===e&&(r=s,t.texture=i)}),-1===r&&(r=this._uniformTextures.length,this._uniformTextures.push({name:e,texture:i})),this.uniform(e,"uniform1i",r),i.bind(r)}else{let i=t[e];const r=l.getUniformType(i);if(i.concat&&i[0].concat){let t=[];for(let e=0;e<i.length;e++)t=t.concat(i[e]);i=t}this.uniform(e,r,i)}}_createShaderProgram(t,e){const i=e?r.c.VERTEX_SHADER:r.c.FRAGMENT_SHADER,s=r.c.createShader(i);return r.c.shaderSource(s,t),r.c.compileShader(s),r.c.getShaderParameter(s,r.c.COMPILE_STATUS)?s:(console.warn("Error in Shader : ",r.c.getShaderInfoLog(s)),console.log(h(t)),null)}_attachShaderProgram(t,e){this.shaderProgram=r.c.createProgram(),r.c.attachShader(this.shaderProgram,t),r.c.attachShader(this.shaderProgram,e),r.c.deleteShader(t),r.c.deleteShader(e),this._varyings&&(console.log("Transform feedback setup : ",this._varyings),r.c.transformFeedbackVaryings(this.shaderProgram,this._varyings,r.c.SEPARATE_ATTRIBS)),r.c.linkProgram(this.shaderProgram)}}l.getUniformType=function(t){const e=function(t){return 9===t.length?"uniformMatrix3fv":16===t.length?"uniformMatrix4fv":`vec${t.length}`};return!!t.length?t[0].concat?e(t[0]):e(t):"float"},e.a=l},5:function(t,e,i){"use strict";i.r(e);var r=i(2),s=i(28),a=i(1),n=i(0);const h=function(t,e,i){const r=e||{};return t.touches&&!i?(r.x=t.touches[0].pageX,r.y=t.touches[0].pageY):t.touches?t.touches&&i&&(r.x=t.touches[1].pageX,r.y=t.touches[1].pageY):(r.x=t.clientX,r.y=t.clientY),r},o=1e-4;class u{constructor(t=[0,0,0],e=[0,1,0]){Object(r.a)(this,"cameraPos",void 0),Object(r.a)(this,"up",void 0),Object(r.a)(this,"cameraFront",[0,0,-1]),Object(r.a)(this,"_mouse",{}),Object(r.a)(this,"_preMouse",{}),Object(r.a)(this,"_mousedown",!1),Object(r.a)(this,"_rx",0),Object(r.a)(this,"_ry",0),Object(r.a)(this,"_preRx",0),Object(r.a)(this,"_preRy",0),Object(r.a)(this,"_targetRx",0),Object(r.a)(this,"_targetRy",0),Object(r.a)(this,"_viewMatrix",a.b.identity(a.b.create())),Object(r.a)(this,"_width",n.b.width),Object(r.a)(this,"_height",n.b.height),Object(r.a)(this,"sensitivity",1),Object(r.a)(this,"target",[0,0,0]),Object(r.a)(this,"offset",[0,0,0]),Object(r.a)(this,"radius",5),Object(r.a)(this,"_targetRadius",5),Object(r.a)(this,"_updateWheel",!1),this.position=t,this.up=e,this.projMatrix=a.b.create(),a.b.perspective(this.projMatrix,Object(n.d)(45),n.b.clientWidth/n.b.clientHeight,.1,100),this._addEvents()}setProj(t,e,i){a.b.perspective(this.projMatrix,Object(n.d)(t),n.b.clientWidth/n.b.clientHeight,e,i)}_addEvents(){n.b.addEventListener("mousedown",t=>this._down(t)),n.b.addEventListener("mousemove",t=>this._move(t)),document.addEventListener("mouseup",t=>this._up(t)),n.b.addEventListener("mousewheel",t=>this._onWheel(t)),n.b.addEventListener("DOMMouseScroll",t=>this._onWheel(t))}_down(t){this._mousedown=!0,h(t,this._mouse),h(t,this._preMouse),this._preRx=this._targetRx,this._preRy=this._targetRy}_move(t){if(this._mousedown){h(t,this._mouse);let e=(this._mouse.x-this._preMouse.x)/this._width,i=(this._mouse.y-this._preMouse.y)/this._height;this._targetRx=this._preRx+e*Math.PI*2*this.sensitivity,this._targetRy=this._preRy+i*Math.PI*this.sensitivity}}_up(t){this._mousedown=!1}updateMatrix(){this._rx+=.1*(this._targetRx-this._rx),Math.abs(this._targetRx-this._rx)<o&&(this._rx=this._targetRx),this._ry+=.1*(this._targetRy-this._ry),Math.abs(this._targetRy-this._ry)<o&&(this._ry=this._targetRy),this._updateWheel&&(this.radius+=.1*(this._targetRadius-this.radius),Math.abs(this._targetRadius-this.radius)<o&&(this.radius=this._targetRadius)),this.position[1]=Math.sin(this._ry)*this.radius;let t=Math.abs(Math.cos(this._ry)*this.radius);this.position[0]=Math.cos(this._rx+.5*Math.PI)*t,this.position[2]=Math.sin(this._rx+.5*Math.PI)*t,this.position=[this.position[0]+this.offset[0],this.position[1]+this.offset[1],this.position[2]+this.offset[2]],a.b.lookAt(this._viewMatrix,this.position,this.target,this.up)}_onWheel(t){const e=t.wheelDelta,i=t.detail;let r=0;r=i?e?e/i/40*i>0?1:-1:-i/3:e/120,this._targetRadius=this.radius+1*-r,this._targetRadius<=1&&(this._targetRadius=1),this._updateWheel=!0}get viewMatrix(){return this._viewMatrix}set rx(t){this._targetRx=t}}var c=i(43);i.d(e,"default",function(){return f});class f{constructor(){Object(r.a)(this,"rotateQ",a.c.create()),Object(r.a)(this,"mousePos",{x:0,y:0}),Object(r.a)(this,"camera",new u),Object(r.a)(this,"pMatrix",a.b.identity(a.b.create())),Object(r.a)(this,"mvpMatrix",a.b.identity(a.b.create())),Object(r.a)(this,"tmpMatrix",a.b.identity(a.b.create())),Object(r.a)(this,"_params",{}),Object(r.a)(this,"gui",new c.a({width:300})),this.vMatrix=this.camera.viewMatrix,n.a.setCamera(this.camera),this.init(),this.attrib(),this.prepare(),this._setGUI(),this._animate=this.animate.bind(this),n.c.enable(n.c.DEPTH_TEST),n.c.depthFunc(n.c.LEQUAL),n.c.enable(n.c.CULL_FACE)}init(){}compile(t,e){return new s.a(t,e)}attrib(){}uniform(){}prepare(){}animate(){requestAnimationFrame(this._animate),this.camera.updateMatrix(),this.uniform(),this.render()}render(){}play(){this.animate()}_setGUI(){}addGUIParams(t){return Object.assign(this._params,t)}get params(){return this._params}set params(t){throw Error("Params has no setter,please use addGUIParams")}}},6:function(t,e,i){"use strict";i.r(e),i.d(e,"Torus",function(){return s}),i.d(e,"hsva",function(){return a}),i.d(e,"Sphere",function(){return n}),i.d(e,"plane",function(){return h}),i.d(e,"QuadData",function(){return o}),i.d(e,"TorusKnot",function(){return u}),i.d(e,"regularPolyhedron",function(){return c});var r=i(3);function s(t,e,i,s,n){let h,o=[],u=[],c=[],f=[],l=[];for(let r=0;r<=t;r++){let u=2*Math.PI/t*r,d=Math.cos(u),m=Math.sin(u);for(let u=0;u<=e;u++){l.push(u/e,r/t);let b=2*Math.PI/e*u,p=(d*i+s)*Math.cos(b),g=m*i,_=(d*i+s)*Math.sin(b);o.push(p,g,_),h=n||a(360/e*u,1,1,1),f.push(h[0],h[1],h[2],h[3]);let v=d*Math.cos(b),y=d*Math.sin(b);c.push(v,m,y)}}for(let i=0;i<t;i++)for(let t=0;t<e;t++){let r=(e+1)*i+t;u.push(r,r+e+1,r+1),u.push(r+e+1,r+e+2,r+1)}let d=new r.a;return d.bufferFlattenData(o,"position",3),d.bufferFlattenData(l,"texCoord",2),d.bufferFlattenData(f,"color",4),d.bufferIndex(u),d.bufferFlattenData(c,"normal",3),d}function a(t,e,i,r){if(e>1||i>1||r>1)return;let s=t%360,a=Math.floor(s/60),n=s/60-a,h=i*(1-e),o=i*(1-e*n),u=i*(1-e*(1-n)),c=[];if(!e>0&&!e<0)c.push(i,i,i,r);else{let t=[i,o,h,h,u,i],e=[u,i,i,o,h,h],s=[h,h,u,i,i,o];c.push(t[a],e[a],s[a],r)}return c}function n(t,e,i,r){for(var s=[],n=[],h=[],o=[],u=[],c=0;c<=t;c++)for(var f=Math.PI/t*c,l=Math.cos(f),d=Math.sin(f),m=0;m<=e;m++){var b=2*Math.PI/e*m,p=d*i*Math.cos(b),g=l*i,_=d*i*Math.sin(b),v=d*Math.cos(b),y=d*Math.sin(b);if(r)var x=r;else x=a(360/t*c,1,1,1);s.push(p,g,_),n.push(v,l,y),h.push(x[0],x[1],x[2],x[3]),o.push(1-1/e*m,1/t*c)}for(f=0,c=0;c<t;c++)for(m=0;m<e;m++)f=(e+1)*c+m,u.push(f,f+1,f+e+2),u.push(f,f+e+2,f+e+1);return{pos:s,normal:n,color:h,uv:o,index:u}}function h(t,e,i){const r=t/2,s=i/2;return[r,e,s,0,1,0,1,0,-r,e,-s,0,1,0,0,1,-r,e,s,0,1,0,0,0,r,e,s,0,1,0,1,0,r,e,-s,0,1,0,1,1,-r,e,-s,0,1,0,0,1]}const o=[-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0];function u(){}function c(){}}}]);