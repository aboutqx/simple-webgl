(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(t,s,e){"use strict";var h=e(4),i=e(0);function u(t,s){if("number"!=typeof t||"number"!=typeof s)return!1;for(var e=1,h=t-s+1;h<=t;h++)e*=h;for(h=1;h<=s;h++)e/=h;return e}const r={};let a;function o(t,s,e,h){if(s>1||e>1||h>1)return;const i=t%360,u=Math.floor(i/60),r=i/60-u,a=e*(1-s),o=e*(1-s*r),p=e*(1-s*(1-r)),n=[];if(!s>0&&!s<0)n.push(e,e,e,h);else{const t=[e,o,a,a,p,e],s=[p,e,e,o,a,a],i=[a,a,p,e,e,o];n.push(t[u],s[u],i[u],h)}return n}r.plane=function(t,s,e,i="xy",u=4){const r=[],a=[],o=[],p=[],n=t/e,c=s/e,d=1/e,l=.5*-t,_=.5*-s;let f=0;for(let t=0;t<e;t++)for(let s=0;s<e;s++){const h=n*t+l,u=c*s+_,m=t/e,b=s/e;"xz"===i?(r.push([h,0,u+c]),r.push([h+n,0,u+c]),r.push([h+n,0,u]),r.push([h,0,u]),a.push([m,1-(b+d)]),a.push([m+d,1-(b+d)]),a.push([m+d,1-b]),a.push([m,1-b]),p.push([0,1,0]),p.push([0,1,0]),p.push([0,1,0]),p.push([0,1,0])):"yz"===i?(r.push([0,u,h]),r.push([0,u,h+n]),r.push([0,u+c,h+n]),r.push([0,u+c,h]),a.push([m,b]),a.push([m+d,b]),a.push([m+d,b+d]),a.push([m,b+d]),p.push([1,0,0]),p.push([1,0,0]),p.push([1,0,0]),p.push([1,0,0])):(r.push([h,u,0]),r.push([h+n,u,0]),r.push([h+n,u+c,0]),r.push([h,u+c,0]),a.push([m,b]),a.push([m+d,b]),a.push([m+d,b+d]),a.push([m,b+d]),p.push([0,0,1]),p.push([0,0,1]),p.push([0,0,1]),p.push([0,0,1])),o.push(4*f+0),o.push(4*f+1),o.push(4*f+2),o.push(4*f+0),o.push(4*f+2),o.push(4*f+3),f++}const m=new h.a(u);return m.bufferVertex(r),m.bufferTexCoord(a),m.bufferIndex(o),m.bufferNormal(p),m},r.sphere=function(t,s,e=!1,i=4){const u=[],r=[],a=[],o=[],p=1/s;let n=0;function c(e,h,i=!1){const u=e/s*Math.PI-.5*Math.PI,r=h/s*Math.PI*2,a=i?1:t,o=[];o[1]=Math.sin(u)*a;const p=Math.cos(u)*a;o[0]=Math.cos(r)*p,o[2]=Math.sin(r)*p;return o[0]=Math.floor(1e4*o[0])/1e4,o[1]=Math.floor(1e4*o[1])/1e4,o[2]=Math.floor(1e4*o[2])/1e4,o}for(let t=0;t<s;t++)for(let e=0;e<s;e++){u.push(c(t,e)),u.push(c(t+1,e)),u.push(c(t+1,e+1)),u.push(c(t,e+1)),o.push(c(t,e,!0)),o.push(c(t+1,e,!0)),o.push(c(t+1,e+1,!0)),o.push(c(t,e+1,!0));const h=e/s,i=t/s;r.push([1-h,i]),r.push([1-h,i+p]),r.push([1-h-p,i+p]),r.push([1-h-p,i]),a.push(4*n+0),a.push(4*n+1),a.push(4*n+2),a.push(4*n+0),a.push(4*n+2),a.push(4*n+3),n++}e&&a.reverse();const d=new h.a(i);return d.bufferVertex(u),d.bufferTexCoord(r),d.bufferIndex(a),d.bufferNormal(o),d},r.cube=function(t,s,e,i=4){const u=t/2,r=(s=s||t)/2,a=(e=e||t)/2,o=[],p=[],n=[],c=[];let d=0;o.push([-u,r,-a]),o.push([u,r,-a]),o.push([u,-r,-a]),o.push([-u,-r,-a]),c.push([0,0,-1]),c.push([0,0,-1]),c.push([0,0,-1]),c.push([0,0,-1]),p.push([0,0]),p.push([1,0]),p.push([1,1]),p.push([0,1]),n.push(4*d+0),n.push(4*d+1),n.push(4*d+2),n.push(4*d+0),n.push(4*d+2),n.push(4*d+3),d++,o.push([u,r,-a]),o.push([u,r,a]),o.push([u,-r,a]),o.push([u,-r,-a]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0]),p.push([0,0]),p.push([1,0]),p.push([1,1]),p.push([0,1]),n.push(4*d+0),n.push(4*d+1),n.push(4*d+2),n.push(4*d+0),n.push(4*d+2),n.push(4*d+3),d++,o.push([u,r,a]),o.push([-u,r,a]),o.push([-u,-r,a]),o.push([u,-r,a]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1]),p.push([0,0]),p.push([1,0]),p.push([1,1]),p.push([0,1]),n.push(4*d+0),n.push(4*d+1),n.push(4*d+2),n.push(4*d+0),n.push(4*d+2),n.push(4*d+3),d++,o.push([-u,r,a]),o.push([-u,r,-a]),o.push([-u,-r,-a]),o.push([-u,-r,a]),c.push([-1,0,0]),c.push([-1,0,0]),c.push([-1,0,0]),c.push([-1,0,0]),p.push([0,0]),p.push([1,0]),p.push([1,1]),p.push([0,1]),n.push(4*d+0),n.push(4*d+1),n.push(4*d+2),n.push(4*d+0),n.push(4*d+2),n.push(4*d+3),d++,o.push([u,r,-a]),o.push([-u,r,-a]),o.push([-u,r,a]),o.push([u,r,a]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0]),p.push([0,0]),p.push([1,0]),p.push([1,1]),p.push([0,1]),n.push(4*d+0),n.push(4*d+1),n.push(4*d+2),n.push(4*d+0),n.push(4*d+2),n.push(4*d+3),d++,o.push([u,-r,a]),o.push([-u,-r,a]),o.push([-u,-r,-a]),o.push([u,-r,-a]),c.push([0,-1,0]),c.push([0,-1,0]),c.push([0,-1,0]),c.push([0,-1,0]),p.push([0,0]),p.push([1,0]),p.push([1,1]),p.push([0,1]),n.push(4*d+0),n.push(4*d+1),n.push(4*d+2),n.push(4*d+0),n.push(4*d+2),n.push(4*d+3),d++;const l=new h.a(i);return l.bufferVertex(o),l.bufferTexCoord(p),l.bufferIndex(n),l.computeNormals(c),l},r.skybox=function(t,s=4){const e=[],i=[],u=[],r=[];let a=0;e.push([t,t,-t]),e.push([-t,t,-t]),e.push([-t,-t,-t]),e.push([t,-t,-t]),r.push([0,0,-1]),r.push([0,0,-1]),r.push([0,0,-1]),r.push([0,0,-1]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),u.push(4*a+0),u.push(4*a+1),u.push(4*a+2),u.push(4*a+0),u.push(4*a+2),u.push(4*a+3),a++,e.push([t,-t,-t]),e.push([t,-t,t]),e.push([t,t,t]),e.push([t,t,-t]),r.push([1,0,0]),r.push([1,0,0]),r.push([1,0,0]),r.push([1,0,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),u.push(4*a+0),u.push(4*a+1),u.push(4*a+2),u.push(4*a+0),u.push(4*a+2),u.push(4*a+3),a++,e.push([-t,t,t]),e.push([t,t,t]),e.push([t,-t,t]),e.push([-t,-t,t]),r.push([0,0,1]),r.push([0,0,1]),r.push([0,0,1]),r.push([0,0,1]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),u.push(4*a+0),u.push(4*a+1),u.push(4*a+2),u.push(4*a+0),u.push(4*a+2),u.push(4*a+3),a++,e.push([-t,-t,t]),e.push([-t,-t,-t]),e.push([-t,t,-t]),e.push([-t,t,t]),r.push([-1,0,0]),r.push([-1,0,0]),r.push([-1,0,0]),r.push([-1,0,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),u.push(4*a+0),u.push(4*a+1),u.push(4*a+2),u.push(4*a+0),u.push(4*a+2),u.push(4*a+3),a++,e.push([t,t,t]),e.push([-t,t,t]),e.push([-t,t,-t]),e.push([t,t,-t]),r.push([0,1,0]),r.push([0,1,0]),r.push([0,1,0]),r.push([0,1,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),u.push(4*a+0),u.push(4*a+1),u.push(4*a+2),u.push(4*a+0),u.push(4*a+2),u.push(4*a+3),a++,e.push([t,-t,-t]),e.push([-t,-t,-t]),e.push([-t,-t,t]),e.push([t,-t,t]),r.push([0,-1,0]),r.push([0,-1,0]),r.push([0,-1,0]),r.push([0,-1,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),u.push(4*a+0),u.push(4*a+1),u.push(4*a+2),u.push(4*a+0),u.push(4*a+2),u.push(4*a+3);const o=new h.a(s);return o.bufferVertex(e),o.bufferTexCoord(i),o.bufferIndex(u),o.bufferNormal(r),o},r.bigTriangle=function(){if(!a){const t=[2,1,0],s=[[-1,-1],[-1,4],[4,-1]];a=new h.a,a.bufferData(s,"position",2),a.bufferIndex(t)}return a},r.singleLine=function(t,s){const e=[];e.push(t),e.push(s);const u=new h.a(i.c.LINES);return u.bufferVertex(e),u.bufferTexCoord([[0,0],[1,1]]),u.bufferIndex([0,1]),u},r.points=function(t){const s=Array.from(arguments),e=[];for(let s=0;s<t.length;s++)e.push(s);const u=new h.a(i.c.POINTS);return u.bufferVertex(s),u.bufferIndex(e),u},r.bezier=(t,s)=>{const e=[],r=t.length-1;for(let h=0;h<=1;h+=s){let s=[];for(let i=0;i<=r;i++){const a=u(r,i)*Math.pow(h,i)*Math.pow(1-h,r-i),o=t[i];s.length?(s[0]+=o[0]*a,s[1]+=o[1]*a,s[2]+=o[2]*a):s=[o[0]*a,o[1]*a,o[2]*a],e.push(s)}}const a=[];for(let t=0;t<e.length;t++)a.push(t);const o=new h.a(i.c.LINE_STRIP);return o.bufferVertex(e),o.bufferIndex(a),o},r.joinBezier=()=>{},r.bezierSurface=()=>{},r.bSplines=()=>{},r.bezierBorderPlane=function(t){},r.torus=(t,s,e,i,u)=>{const r=[],a=[],p=[],n=[],c=[];let d;for(let h=0;h<=t;h++){let a=2*Math.PI/t*h,l=Math.cos(a),_=Math.sin(a);for(let a=0;a<=s;a++){c.push(a/s,h/t);let f=2*Math.PI/s*a,m=(l*e+i)*Math.cos(f),b=_*e,x=(l*e+i)*Math.sin(f);r.push(m,b,x),d=u||o(360/s*a,1,1,1),n.push(d[0],d[1],d[2],d[3]);let g=l*Math.cos(f),v=l*Math.sin(f);p.push(g,_,v)}}for(let e=0;e<t;e++)for(let t=0;t<s;t++){let h=(s+1)*e+t;a.push(h,h+s+1,h+1),a.push(h+s+1,h+s+2,h+1)}const l=new h.a;return l.bufferFlattenData(r,"position",3),l.bufferFlattenData(c,"texCoord",2),l.bufferFlattenData(n,"color",4),l.bufferIndex(a),l.bufferFlattenData(p,"normal",3),l},r.torusKnot=()=>{},r.regularPolyhedron=()=>{},r.star=()=>{};s.a=r},43:function(t,s,e){"use strict";e.d(s,"a",(function(){return R}));var h=e(2),i=e(15),u=e(57),r=e(1);const a=r.e.create(),o=r.e.create(),p=r.e.create(),n=r.e.create(),c=r.e.create(),d=r.e.create(),l=r.e.create(),_=r.e.create();var f=class{constructor(t,s){this.origin=r.e.clone(t),this.direction=r.e.clone(s)}at(t){return r.e.copy(n,this.direction),r.e.scale(n,n,t),r.e.add(n,n,this.origin),n}lookAt(t){r.e.sub(this.direction,t,this.origin),r.e.normalize(this.origin,this.origin)}closestPointToPoint(t){const s=r.e.create();r.e.sub(t,this.origin);const e=r.e.dot(s,this.direction);return e<0?r.e.clone(this.origin):(r.e.copy(s,this.direction),r.e.scale(s,s,e),r.e.add(s,s,this.origin),s)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const s=r.e.create();r.e.sub(s,t,this.origin);const e=r.e.dot(s,this.direction);return e<0?r.e.squaredDistance(this.origin,t):(r.e.copy(s,this.direction),r.e.scale(s,s,e),r.e.add(s,s,this.origin),r.e.squaredDistance(s,t))}intersectsSphere(t,s){return this.distanceToPoint(t)<=s}intersectSphere(t,s){const e=r.e.create();r.e.sub(e,t,this.origin);const h=r.e.dot(e,this.direction),i=r.e.dot(e,e)-h*h,u=s*s;if(i>u)return null;const a=Math.sqrt(u-i),o=h-a,p=h+a;return o<0&&p<0?null:o<0?this.at(p):this.at(o)}distanceToPlane(t,s){r.e.dot(s,this.direction)}intersectTriangle(t,s,e,h=!0){r.e.copy(a,t),r.e.copy(o,s),r.e.copy(p,e),r.e.sub(c,o,a),r.e.sub(d,p,a),r.e.cross(l,c,d);let i,u=r.e.dot(this.direction,l);if(u>0){if(h)return null;i=1}else{if(!(u<0))return null;i=-1,u=-u}r.e.sub(_,this.origin,a),r.e.cross(d,_,d);const n=i*r.e.dot(this.direction,d);if(n<0)return null;r.e.cross(c,c,_);const f=i*r.e.dot(this.direction,c);if(f<0)return null;if(n+f>u)return null;const m=-i*r.e.dot(_,l);return m<0?null:this.at(m/u)}},m=e(0);const b=r.b.create(),x=r.e.create();class g extends u.a{constructor(t,s,e,h){super(),t&&this.setPerspective(t,e,h,s)}setPerspective(t,s,e,h=m.b.width/m.b.height){this._fov=Object(m.d)(t),this._near=s,this._far=e,this._aspectRatio=h,r.b.perspective(this._projection,this._fov,h,s,e)}setAspectRatio(t){this._aspectRatio=t,r.b.perspective(this.projection,this._fov,t,this._near,this._far)}generateRay(t,s){const e=this.projectionMatrix,h=this.viewMatrix;return r.b.multiply(b,e,h),r.b.invert(b,b),r.e.transformMat4(x,t,b),r.e.sub(x,x,this.position),r.e.normalize(x,x),s?(s.origin=this.position,s.direction=x):s=new f(this.position,x),s}}var v=g,w=e(55),P=e(17),M=e(71);class y{constructor(t){Object(h.a)(this,"up",[0,1,0]),Object(h.a)(this,"cameraFront",[0,0,-1]),Object(h.a)(this,"_mouse",{}),Object(h.a)(this,"_preMouse",{}),Object(h.a)(this,"_mousedown",!1),Object(h.a)(this,"_rx",new w.a(0)),Object(h.a)(this,"_ry",new w.a(0)),Object(h.a)(this,"_preRx",0),Object(h.a)(this,"_preRy",0),Object(h.a)(this,"sensitivity",1),Object(h.a)(this,"position",[0,0,0]),Object(h.a)(this,"target",[0,0,0]),Object(h.a)(this,"offset",[0,0,0]),Object(h.a)(this,"_radius",new w.a(5)),Object(h.a)(this,"_targetRadius",5),Object(h.a)(this,"_updateWheel",!1),this.cameraPers=t,this._downBind=t=>this._down(t),this._moveBind=t=>this._move(t),this._upBind=t=>this._up(t),this._wheelBind=t=>this._wheel(t),this._addEvents(),this.updateMatrix(),this._efIndex=P.a.addEF(()=>this.updateMatrix())}_addEvents(){M.a.addEvents(this._downBind,this._moveBind,this._upBind,this._wheelBind)}_removeEvents(){M.a.removeEvents(this._downBind,this._moveBind,this._upBind,this._wheelBind)}_down(t){this._mousedown=!0,M.a.getPos(t,this._mouse),M.a.getPos(t,this._preMouse),this._preRx=this._rx.targetValue,this._preRy=this._ry.targetValue}_move(t){if(this._mousedown){M.a.getPos(t,this._mouse);let s=(this._mouse.x-this._preMouse.x)/m.b.width,e=(this._mouse.y-this._preMouse.y)/m.b.height;this._rx.value=this._preRx+s*Math.PI*2*this.sensitivity,this._ry.value=this._preRy+e*Math.PI*this.sensitivity}}_up(t){this._mousedown=!1}flipY(){this.position[1]=-this.position[1],this.up[1]=-this.up[1],this.cameraPers.lookAt(this.position,this.target,this.up)}updateMatrix(){this._updateWheel&&(this._radius.value=this._targetRadius),this.position[1]=Math.sin(this._ry.value)*this._radius.value;const t=Math.cos(this._ry.value)*this._radius.value;this.up[1]=t<0?-1:1,this.position[0]=Math.cos(this._rx.value+.5*Math.PI)*t,this.position[2]=Math.sin(this._rx.value+.5*Math.PI)*t,r.e.add(this.position,this.position,this.offset),this.cameraPers.lookAt(this.position,this.target,this.up)}_wheel(t){const s=t.wheelDelta,e=t.detail;let h=0;h=e?s?s/e/40*e>0?1:-1:-e/3:s/120,this._targetRadius=this._radius.value+1*-h,this._targetRadius<=1&&(this._targetRadius=1),this._updateWheel=!0}destroy(){this.updateMatrix(),P.a.removeEF(this._efIndex),this._removeEvents()}get viewMatrix(){return this._viewMatrix}get rx(){return this._rx}get ry(){return this._ry}set radius(t){this._radius.value=t}}var j=e(42),E=e(19),I=e(3);class O{constructor(){Object(h.a)(this,"_position",[0,0]),Object(h.a)(this,"_translate",[[-.85,.85],[.55,.85]]),Object(h.a)(this,"_size",[.3,.3]),Object(h.a)(this,"_texturelist",[]),this.texturePrg=new i.a(E.a),this.quad=j.a.plane(1,1,1)}set textureList(t){this._texturelist=t}draw(){0!=this._texturelist.length&&(m.c.disable(m.c.DEPTH_TEST),this._texturelist.forEach((t,s)=>{this.texturePrg.use(),t.size=t.size||this._size,t.position=t.position||this._position;let e=r.b.create();r.b.translate(e,e,[this._translate[s][0],1-(1-this._translate[s][1])*m.a.aspectRatio,0]),r.b.scale(e,e,[t.size[0],t.size[1]*m.a.aspectRatio,1]);const h=t.flipY||!1;t.texture instanceof I.a?this.texturePrg.style({texture0:t.texture}):(m.c.activeTexture(m.c.TEXTURE0),m.c.bindTexture(m.c.TEXTURE_2D,t.texture),this.texturePrg.uniform("texture0","uniform1i",0)),this.texturePrg.style({mMatrix:e,flipY:h}),m.a.draw(this.quad)}),m.c.enable(m.c.DEPTH_TEST))}}var T=e(110),V=e(13);class R{constructor(){Object(h.a)(this,"count",0),Object(h.a)(this,"mousePos",{x:0,y:0}),Object(h.a)(this,"camera",new v(45,m.b.width/m.b.height,.1,1e3)),Object(h.a)(this,"_params",{}),Object(h.a)(this,"gui",new T.a({width:300})),Object(h.a)(this,"radioProps",[]),this.orbital=new y(this.camera),m.a.setCamera(this.camera),this._resize(),this.init(),this.attrib(),this.prepare(),this._setGUI(),this.frameBufferGUI=new O,m.a.customGlState(),window.addEventListener("resize",this._resize.bind(this),!1)}init(){}compile(t,s,e){return new i.a(t,s,e)}basicVert(t,s){return new i.a(null,t,s)}basicColor(t,s){return new i.a(t,V.a,s)}attrib(){}uniform(){}prepare(){}_animate(){requestAnimationFrame(this._animate.bind(this)),this.orbital.updateMatrix(),this.uniform(),this.render(),this.frameBufferGUI.draw()}render(){}play(){this._animate()}resize(){}_resize(){m.a.resize(),this.resize()}_setGUI(){}addGUIParams(t){return Object.assign(this._params,t)}addRadio(t,s,e="radio",h=function(){}){if(s){const t=this.gui.addFolder(e);s.forEach(s=>{this.addGUIParams({[s]:!1}),t.add(this.params,s).listen().onChange(()=>{this.addRadio(s),h()}),t.open(),this.radioProps.push(s)})}this.radioProps.forEach(t=>this.params[t]=!1),t&&(this.params[t]=!0)}addLabel(t,s=function(){}){this.addGUIParams({[t]:s}),this.gui.add(this.params,t)}addPbrParams(t){this.addGUIParams(t);const s=this.gui.addFolder("material factor");s.add(this.params,"metallic",0,1).step(.01),s.add(this.params,"roughness",0,1).step(.01),void 0!==t.specular&&s.add(this.params,"specular",0,1).step(.01),s.add(this.params,"gamma",0,5).step(.1),s.add(this.params,"exposure",1,10).step(1),s.addColor(this.params,"color"),s.open()}get params(){return this._params}set params(t){throw Error("Params has no setter,please use addGUIParams")}}},55:function(t,s,e){"use strict";var h=e(17);s.a=class{constructor(t,s=.1){this.easing=s,this._value=t,this._targetValue=t,this._efIndex=h.a.addEF(()=>this._update())}_update(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}setTo(t){this._targetValue=this._value=t}add(t){this._targetValue+=t}limit(t,s){t>s?this.limit(s,t):(this._min=t,this._max=s,this._checkLimit())}_checkLimit(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}destroy(){h.a.removeEF(this._efIndex)}set value(t){this._targetValue=t}get value(){return this._value}get targetValue(){return this._targetValue}}},57:function(t,s,e){"use strict";e.d(s,"a",(function(){return i}));var h=e(1);class i{constructor(){this._matrix=h.b.create(),this._quat=h.c.create(),this._orientation=h.b.create(),this._projection=h.b.create(),this.position=h.e.create(),this.up=[0,1,0]}lookAt(t,s,e=[0,1,0]){this._eye=h.e.clone(t),this._center=h.e.clone(s),h.e.copy(this.position,t),h.b.identity(this._matrix),h.b.lookAt(this._matrix,t,s,e)}setFromOrientation(t,s,e,i){h.c.set(this._quat,t,s,e,i),h.b.fromQuat(this._orientation,this._quat),h.b.translate(this._matrix,this._orientation,this.positionOffset)}setProjection(t){this._projection=h.b.clone(t)}setView(t){this._matrix=h.b.clone(t)}setFromViewProj(t,s){this.setView(t),this.setProjection(s)}splitFrustum(t,s,e){}get matrix(){return this._matrix}get viewMatrix(){return this._matrix}get projection(){return this._projection}get projectionMatrix(){return this._projection}get eye(){return this._eye}get center(){return this._center}}},71:function(t,s,h){"use strict";var i=h(2),u=h(1),r=h(0);const a=new class{constructor(){Object(i.a)(this,"cw",r.b.width),Object(i.a)(this,"ch",r.b.height),Object(i.a)(this,"mousePos",{})}caculateRotate(){let t=1/Math.sqrt(cw*cw+ch*ch);getPos(e,mousePos);let s=mousePos.x-r.b.offsetLeft-.5*cw,h=mousePos.y-r.b.offsetTop-.5*ch;const i=u.c.create();let a=Math.sqrt(s*s+h*h),o=2*a*Math.PI*t;1!==a&&(a=1/a,s*=a,h*=a),u.c.setAxisAngle(i,[h,s,0],o);const p={x:mousePos.x/cw,y:mousePos.y/ch};return{q:i,mousePos:mousePos,mousePercent:p}}addEvents(t,s,e,h){r.b.addEventListener("mousedown",t),r.b.addEventListener("mousemove",s),document.addEventListener("mouseup",e),r.b.addEventListener("mousewheel",h),r.b.addEventListener("DOMMouseScroll",h)}removeEvents(t,s,e,h){r.b.removeEventListener("mousedown",t),r.b.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e),r.b.removeEventListener("mousewheel",h),r.b.removeEventListener("DOMMouseScroll",h)}_patchEvent(t,s){s()}getPos(t,s,e){const h=s||{};return t.touches&&!e?(h.x=t.touches[0].pageX,h.y=t.touches[0].pageY):t.touches?t.touches&&e&&(h.x=t.touches[1].pageX,h.y=t.touches[1].pageY):(h.x=t.clientX,h.y=t.clientY),h}get mousePos(){return this.mousePos}};s.a=a}}]);