(window.webpackJsonp=window.webpackJsonp||[]).push([[11,22],{101:function(t,i){t.exports="#version 300 es\n#define GLSLIFY 1\nin vec3 position;\nin vec2 texcoord;\nuniform   mat4 mvpMatrix;\nout   vec2 TexCoords;\n\nvoid main(void){\n    TexCoords = texcoord;\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n}\n"},102:function(t,i){t.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nin   vec4 TexCoords;\nout vec4 outColor;\n\n\nvoid main(void){\n\n    outColor = texture(tex, TexCoords);\n}\n"},12:function(t,i){function e(t){if(this.gl=t,void 0!==t.bindVertexArray)this._impl=new s(this);else{var i=t.getExtension("OES_vertex_array_object");i?(!function(t,i){t.bindVertexArray=function(){return i.bindVertexArrayOES.apply(i,arguments)},t.createVertexArray=function(){return i.createVertexArrayOES.apply(i,arguments)},t.deleteVertexArray=function(){return i.deleteVertexArrayOES.apply(i,arguments)},t.isVertexArray=function(){return i.isVertexArrayOES.apply(i,arguments)}}(t,i),this._impl=new s(this)):this._impl=new r(this)}}function s(t){this._vao=t,this._handle=null}function r(t){this._vao=t}e.prototype={dispose:function(){this._impl.dispose(),this._impl=null},setup:function(t,i,e){t.ready||t._grabParameters(),this._impl.setup(t,i,e)},bind:function(){this._impl.bind()},unbind:function(){this._impl.unbind()}},s.prototype={dispose:function(){this.release(),this._vao=null},setup:function(t,i,e){this.release();var s=this._vao.gl;this._handle=s.createVertexArray(),s.bindVertexArray(this._handle);for(var r=0;r<i.length;r++)i[r].attribPointer(t);void 0!==e&&e.bind(),s.bindVertexArray(null)},bind:function(){this._vao.gl.bindVertexArray(this._handle)},unbind:function(){this._vao.gl.bindVertexArray(null)},release:function(){this._handle&&(this._vao.gl.deleteVertexArray(this._handle),this._handle=null)}},r.prototype={dispose:function(){this._vao=null,this.prg=null,this.buffers=null,this.indices=null},setup:function(t,i,e){this.prg=t,this.buffers=i,this.indices=e},bind:function(){for(var t=0;t<this.buffers.length;t++)this.buffers[t].attribPointer(this.prg);void 0!==this.indices&&this.indices.bind()},unbind:function(){}},t.exports=e},3:function(t,i){var e=0,s=3553;function r(t,i,e){return 9728|+t|+i<<8|+(i&&e)<<1}function n(t,i){return this._uid=e++,this.gl=t,this.id=this.gl.createTexture(),this.width=0,this.height=0,this.format=i||t.RGB,this.type=t.UNSIGNED_BYTE,this.img=null,t.bindTexture(s,this.id),this.setFilter(!0),this}n.prototype={fromImage:function(t){var i=this.gl;return this.img=t,this.width=t.width,this.height=t.height,i.bindTexture(s,this.id),i.texImage2D(s,0,this.format,this.format,this.type,t),this},fromData:function(t,i,e,r){var n=this.gl;return this.width=t,this.height=i,e=e||null,this.type=r||n.UNSIGNED_BYTE,n.bindTexture(s,this.id),window.useWebgl2?r===n.RGBA16F?n.texImage2D(n.TEXTURE_2D,0,this.type,t,i,0,this.format,n.HALF_FLOAT,e):r===n.RG32F||r===n.RGBA32F||r===n.RGB32F?n.texImage2D(n.TEXTURE_2D,0,this.type,t,i,0,this.format,n.FLOAT,e):n.texImage2D(s,0,this.format,t,i,0,this.format,this.type,e):n.texImage2D(s,0,this.format,t,i,0,this.format,this.type,e),this},bind:function(t){var i=this.gl;void 0!==t&&i.activeTexture(i.TEXTURE0+(0|t)),i.bindTexture(s,this.id)},dispose:function(){this.gl&&this.gl.deleteTexture(this.id),this.id=null,this.gl=null},setFilter:function(t,i,e){var n=this.gl,a=r(!!t,!!i,!!e);n.texParameteri(s,n.TEXTURE_MAG_FILTER,r(!!t,!1,!1)),n.texParameteri(s,n.TEXTURE_MIN_FILTER,a)},repeat:function(){this.wrap(this.gl.REPEAT)},clamp:function(){this.wrap(this.gl.CLAMP_TO_EDGE)},mirror:function(){this.wrap(this.gl.MIRRORED_REPEAT)},wrap:function(t){var i=this.gl;i.texParameteri(s,i.TEXTURE_WRAP_S,t),i.texParameteri(s,i.TEXTURE_WRAP_T,t)}},t.exports=n},5:function(t,i,e){"use strict";e.r(i);var s=e(2),r=0;function n(t,i,e,s){this.gl=t,this.program=t.createProgram(),this.vShader=t.createShader(t.VERTEX_SHADER),this.fShader=t.createShader(t.FRAGMENT_SHADER),this.dyns=[],this.uniforms=[],this.ready=!1,t.attachShader(this.program,this.vShader),t.attachShader(this.program,this.fShader),this._uid=0|r++,this._cuid=0|r++,void 0!==i&&void 0!==e&&this.compile(i,e,s),this.unAssigned=[],this.prevTime=0}function a(t){console.warn(t)}n.debug=!0,n.prototype={use:function(){this.ready||this._grabParameters(),this.gl.useProgram(this.program)},style:function(t,i){if("{}"!==JSON.stringify(t)||0!==this.uniforms.length){if("{}"===JSON.stringify(t)&&this.uniforms.length>0)throw new Error("active uniform not assigned:"+this.uniforms);for(let i in t)"function"==typeof this[i]&&this[i](t[i]);this.unAssigned=this.unAssigned.filter(i=>{let e=!1;for(let s in t)s===i&&(e=!0);return!e}),Date.now()-this.prevTime<62500&&0===this.unAssigned.length&&null!==this.timer&&(clearTimeout(this.timer),this.timer=null),0!==this.unAssigned.length&&void 0===i&&(this.timer=setTimeout(()=>{if(this.unAssigned.length>0)throw new Error("active uniform not assigned: "+this.unAssigned)},1/16)),this.prevTime=Date.now()}},compile:function(t,i,e){this.ready=!1,e=e||"";var s=this.gl;if(!u(s,this.fShader,e+i)||!u(s,this.vShader,e+t))return!1;if(s.linkProgram(this.program),n.debug&&!s.getProgramParameter(this.program,s.LINK_STATUS))return a(s.getProgramInfoLog(this.program)),!1;for(;this.dyns.length>0;)delete this[this.dyns.pop()];return this._cuid=0|r++,!0},dispose:function(){null!==this.gl&&(this.gl.deleteProgram(this.program),this.gl.deleteShader(this.fShader),this.gl.deleteShader(this.vShader),this.gl=null)},_grabParameters:function(){for(var t=this.gl,i=this.program,e=t.getProgramParameter(i,t.ACTIVE_UNIFORMS),s={texIndex:0},r=0;r<e;++r){var n=t.getActiveUniform(i,r);if(null!==n){var a=n.name,h=a.indexOf("[");h>=0&&(a=a.substring(0,h));var o=t.getUniformLocation(i,n.name);this[a]=l(n.type,o,t,s),this.dyns.push(a),this.uniforms.push(a),this.unAssigned.push(a)}else t.getError()}for(var u=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES),d=0;d<u;++d){var f=t.getActiveAttrib(i,d).name,p=t.getAttribLocation(i,f);this[f]=c(p),this.dyns.push(f)}this.ready=!0}},n.prototype.bind=n.prototype.use;var h=["","   ","  "," ",""];function o(t,i){return h[String(i+1).length]+(i+1)+": "+t}function u(t,i,e){return t.shaderSource(i,e),t.compileShader(i),!(n.debug&&!t.getShaderParameter(i,t.COMPILE_STATUS))||(a(t.getShaderInfoLog(i)),a(function(t){return t.split("\n").map(o).join("\n")}(e)),!1)}var d={};function f(t){return t=String(t),"uniform"+d[t]}function l(t,i,e,s){switch(t){case e.FLOAT_MAT2:case e.FLOAT_MAT3:case e.FLOAT_MAT4:return function(t,i,e,s){var r=f(t);return function(){if(arguments.length>0&&void 0!==arguments[0].length){var t=arguments.length>1&&!!arguments[1];e[r+"v"](i,t,arguments[0])}return i}}(t,i,e);case e.SAMPLER_2D:case e.SAMPLER_CUBE:return function(t,i,e,s){var r=s.texIndex++;return function(){return 1===arguments.length&&(void 0!==arguments[0].bind?(arguments[0].bind(r),e.uniform1i(i,r)):e.uniform1i(i,arguments[0])),i}}(0,i,e,s);default:return function(t,i,e,s){var r=f(t);return function(){return 1===arguments.length&&void 0!==arguments[0].length?e[r+"v"](i,arguments[0]):arguments.length>0&&e[r].apply(e,Array.prototype.concat.apply(i,arguments)),i}}(t,i,e)}}function c(t){return function(){return t}}d[5126]="1f",d[35664]="2f",d[35665]="3f",d[35666]="4f",d[35670]=d[5124]=d[35678]=d[35680]="1i",d[35671]=d[35667]="2i",d[35672]=d[35668]="3i",d[35673]=d[35669]="4i",d[35674]="Matrix2f",d[35675]="Matrix3f",d[35676]="Matrix4f";var p=n,g=e(1),m=e(0);const _=function(t,i,e){const s=i||{};return t.touches&&!e?(s.x=t.touches[0].pageX,s.y=t.touches[0].pageY):t.touches?t.touches&&e&&(s.x=t.touches[1].pageX,s.y=t.touches[1].pageY):(s.x=t.clientX,s.y=t.clientY),s},b=1e-4;class v{constructor(t=[0,0,0],i=[0,1,0]){Object(s.a)(this,"cameraPos",void 0),Object(s.a)(this,"up",void 0),Object(s.a)(this,"cameraFront",[0,0,-1]),Object(s.a)(this,"_mouse",{}),Object(s.a)(this,"_preMouse",{}),Object(s.a)(this,"_mousedown",!1),Object(s.a)(this,"_rx",0),Object(s.a)(this,"_ry",0),Object(s.a)(this,"_preRx",0),Object(s.a)(this,"_preRy",0),Object(s.a)(this,"_targetRx",0),Object(s.a)(this,"_targetRy",0),Object(s.a)(this,"_tmp",g.a.identity(g.a.create())),Object(s.a)(this,"_width",m.a.width),Object(s.a)(this,"_height",m.a.height),Object(s.a)(this,"sensitivity",1),Object(s.a)(this,"target",[0,0,0]),Object(s.a)(this,"offset",[0,0,0]),Object(s.a)(this,"radius",5),Object(s.a)(this,"_targetRadius",5),Object(s.a)(this,"_updateWheel",!1),this.cameraPos=t,this.up=i,this._addEvents()}_addEvents(){m.a.addEventListener("mousedown",t=>this._down(t)),m.a.addEventListener("mousemove",t=>this._move(t)),document.addEventListener("mouseup",t=>this._up(t)),m.a.addEventListener("mousewheel",t=>this._onWheel(t)),m.a.addEventListener("DOMMouseScroll",t=>this._onWheel(t))}_down(t){this._mousedown=!0,_(t,this._mouse),_(t,this._preMouse),this._preRx=this._targetRx,this._preRy=this._targetRy}_move(t){if(this._mousedown){_(t,this._mouse);let i=(this._mouse.x-this._preMouse.x)/this._width,e=(this._mouse.y-this._preMouse.y)/this._height;this._targetRx=this._preRx+i*Math.PI*2*this.sensitivity,this._targetRy=this._preRy+e*Math.PI*this.sensitivity}}_up(t){this._mousedown=!1}updateMatrix(){this._rx+=.1*(this._targetRx-this._rx),Math.abs(this._targetRx-this._rx)<b&&(this._rx=this._targetRx),this._ry+=.1*(this._targetRy-this._ry),Math.abs(this._targetRy-this._ry)<b&&(this._ry=this._targetRy),this._updateWheel&&(this.radius+=.1*(this._targetRadius-this.radius),Math.abs(this._targetRadius-this.radius)<b&&(this.radius=this._targetRadius)),this.cameraPos[1]=Math.sin(this._ry)*this.radius;let t=Math.abs(Math.cos(this._ry)*this.radius);this.cameraPos[0]=Math.cos(this._rx+.5*Math.PI)*t,this.cameraPos[2]=Math.sin(this._rx+.5*Math.PI)*t,this.cameraPos=[this.cameraPos[0]+this.offset[0],this.cameraPos[1]+this.offset[1],this.cameraPos[2]+this.offset[2]],g.a.lookAt(this._tmp,this.cameraPos,this.target,this.up)}_onWheel(t){const i=t.wheelDelta,e=t.detail;let s=0;s=e?i?i/e/40*e>0?1:-1:-e/3:i/120,this._targetRadius=this.radius+2*-s,this._targetRadius<=1&&(this._targetRadius=1),this._updateWheel=!0}get viewMatrix(){return this._tmp}set rx(t){this._targetRx=t}}var y=e(36);e.d(i,"default",function(){return x});class x{constructor(){Object(s.a)(this,"rotateQ",g.b.create()),Object(s.a)(this,"camera",new v),Object(s.a)(this,"_params",{}),Object(s.a)(this,"gui",new y.a({width:300})),this.init(),this.attrib(),this.prepare(),this._setGUI(),this._animate=this.animate.bind(this)}init(){}compile(t,i){let e=new p(m.d);return e.compile(t,i),e}attrib(){}uniform(){}prepare(){}animate(){requestAnimationFrame(this._animate),this.camera.updateMatrix(),this.uniform(),this.render()}render(){}play(){this.animate()}_setGUI(){}addGUIParams(t){return Object.assign(this._params,t)}get params(){return this._params}set params(t){throw Error("Params has no setter,please use addGUIParams")}}},52:function(t,i,e){"use strict";e.r(i),e.d(i,"default",function(){return m});var s=e(2),r=e(5),n=e(7),a=e(0),h=e(3),o=e.n(h),u=e(101),d=e.n(u),f=e(102),l=e.n(f),c=e(1),p=e(12),g=e.n(p);class m extends r.default{constructor(){super(),Object(s.a)(this,"count",0)}init(){this.prg=this.compile(d.a,l.a),a.d.pixelStorei(a.d.UNPACK_FLIP_Y_WEBGL,!0)}attrib(){this.planeBuffer=new n.a(a.d,new Float32Array([3,-.5,3,1,0,-3,-.5,3,0,0,-3,-.5,-3,0,1,3,-.5,3,1,0,-3,-.5,-3,0,1,3,-.5,-3,1,1])),this.planeBuffer.attrib("position",3,a.d.FLOAT),this.planeBuffer.attrib("texcoord",2,a.d.FLOAT),this.planeVao=new g.a(a.d),this.planeVao.setup(this.prg,[this.planeBuffer]),this.texture=new o.a(a.d,a.d.RGBA);let t=getAssets.splash;this.texture.fromImage(t),this.texture.bind(),a.d.texParameteri(a.d.TEXTURE_2D,a.d.TEXTURE_MAG_FILTER,a.d.LINEAR),a.d.texParameteri(a.d.TEXTURE_2D,a.d.TEXTURE_MIN_FILTER,a.d.NEAREST_MIPMAP_NEAREST),a.d.generateMipmap(a.d.TEXTURE_2D),a.d.bindTexture(a.d.TEXTURE_2D,null)}prepare(){let t=c.a.identity(c.a.create()),i=c.a.identity(c.a.create());this.mvpMatrix=c.a.identity(c.a.create()),this.tmpMatrix=c.a.identity(c.a.create()),c.a.lookAt(t,[0,0,4],[0,0,0],[0,1,0]),c.a.perspective(i,Object(a.e)(45),a.a.clientWidth/a.a.clientHeight,.1,1e3),c.a.multiply(this.tmpMatrix,i,t)}uniform(){let t=c.a.identity(c.a.create());this.count++;let i=this.count%360*Math.PI/180;c.a.rotate(t,t,i,[0,1,1]),c.a.multiply(this.mvpMatrix,this.tmpMatrix,t),this.prg.use(),this.texture.bind(0),this.prg.style({mvpMatrix:this.mvpMatrix,tex:0})}render(){a.d.clearColor(.3,.3,.3,1),a.d.clearDepth(1),a.d.clear(a.d.COLOR_BUFFER_BIT),this.prg.use(),this.planeVao.bind(),this.planeBuffer.drawTriangles(),this.planeVao.unbind()}}},7:function(t,i,e){"use strict";e.d(i,"a",function(){return a}),e.d(i,"b",function(){return h});var s=function(t){switch(t){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return 0}},r=function(t){t.drawPoints=function(t,i){this.draw(0,t,i)},t.drawLines=function(t,i){this.draw(1,t,i)},t.drawLineLoop=function(t,i){this.draw(2,t,i)},t.drawLineStrip=function(t,i){this.draw(3,t,i)},t.drawTriangles=function(t,i){this.draw(4,t,i)},t.drawTriangleStrip=function(t,i){this.draw(5,t,i)},t.drawTriangleFan=function(t,i){this.draw(6,t,i)}},n=34962;function a(t,i,e){this.gl=t,this.usage=e||t.STATIC_DRAW,this.buffer=t.createBuffer(),this.attribs=[],this.stride=0,this.byteLength=0,this.length=0,i&&this.data(i)}a.prototype={bind:function(){this.gl.bindBuffer(n,this.buffer)},attrib:function(t,i,e,r){return this.attribs.push({name:t,type:0|e,size:0|i,normalize:!!r,offset:this.stride}),this.stride+=s(e)*i,this._computeLength(),this},data:function(t){var i=this.gl;i.bindBuffer(n,this.buffer),i.bufferData(n,t,this.usage),i.bindBuffer(n,null),this.byteLength=void 0===t.byteLength?t:t.byteLength,this._computeLength()},subData:function(t,i){var e=this.gl;e.bindBuffer(n,this.buffer),e.bufferSubData(n,i,t),e.bindBuffer(n,null)},attribPointer:function(t,i){var e=this.gl;if(e.bindBuffer(n,this.buffer),i&&i.length)for(let r=0;r<i.length;r++)for(var s=0;s<this.attribs.length;s++){let n=this.attribs[s];if(i[r]===n.name)if(void 0!==t[n.name]){let i=t[n.name]();e.enableVertexAttribArray(i),e.vertexAttribPointer(i,n.size,n.type,n.normalize,this.stride,n.offset)}else console.warn(`glBuffer can't get Attribute "${n.name}" Location.`)}else for(var r=0;r<this.attribs.length;r++){var a=this.attribs[r];if(void 0!==t[a.name]){var h=t[a.name]();e.enableVertexAttribArray(h),e.vertexAttribPointer(h,a.size,a.type,a.normalize,this.stride,a.offset)}else console.warn(`glBuffer can't get Attribute "${a.name}" Location.`)}},draw:function(t,i,e){i=void 0===i?this.length:i,this.gl.drawArrays(t,e,0|i)},dispose:function(){this.gl&&this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},_computeLength:function(){this.stride>0&&(this.length=this.byteLength/this.stride)}},r(a.prototype);function h(t,i,e,s){this.gl=t,this.buffer=t.createBuffer(),this.usage=s||t.STATIC_DRAW,this.type=0,this.typeSize=0,this.size=0,this.setType(i||t.UNSIGNED_SHORT),e&&this.data(e)}h.prototype={bind:function(){this.gl.bindBuffer(34963,this.buffer)},setType:function(t){this.type=t,this.typeSize=s(t)},data:function(t){var i=this.gl;i.bindBuffer(34963,this.buffer),i.bufferData(34963,t,this.usage),i.bindBuffer(34963,null),this.size=void 0===t.byteLength?t:t.byteLength},subData:function(t,i){var e=this.gl;e.bindBuffer(34963,this.buffer),e.bufferSubData(34963,i,t),e.bindBuffer(34963,null)},dispose:function(){this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},draw:function(t,i,e){i=void 0===i?this.size/this.typeSize:i,this.gl.drawElements(t,i,this.type,0|e)}},r(h.prototype)}}]);